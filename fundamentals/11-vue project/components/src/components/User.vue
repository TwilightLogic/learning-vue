<template>
  <button type="button" @click="onClickAge">Update Age</button>
  <p>The user is {{ age }} years old</p>
  <p>ageDoubled(): {{ ageDoubled }}</p>
</template>

<script>
export default {
  name: 'User',
  // Validating props
  props: {
    age: {
      type: Number,
      // â¬‡ï¸ å¦‚æœä¸€ä¸ªç»„ä»¶éœ€è¦ç”¨åˆ°Userè¿™ä¸ªç»„ä»¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªNumberç±»å‹çš„age
      // required: true,

      // æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºageè®¾ç½®ä¸€ä¸ªåˆå§‹å€¼(ğŸ“’ï¼šå¦‚æœageçš„typeæ˜¯ä¸€ä¸ªObject/Arrayï¼Œä¸‹é¢çš„defaultè¦è®¾æˆfunction)
      default: 20,

      // ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªvalidator()
      validator(value) {
        return value < 130;
      },
    },
  },
  // â¬‡ï¸ ä»ç»„ä»¶å‘å‡ºçš„äº‹ä»¶æ•°ç»„ï¼Œæ·»åŠ äº†`age-change`äº‹ä»¶
  // ç”¨emitsï¼šä»…å½“æˆ‘ä»¬éœ€è¦å¯¹ä»»ä½•propsçš„å€¼è¿›è¡Œæ”¹å˜æ—¶æ‰éœ€è¦æ­¤è¿‡ç¨‹
  emits: ['age-change'],
  // è¿™é‡Œæ²¡æ”¹å˜ageâ¬‡ï¸ï¼Œè¿™æ˜¯è¿”å›äº†ä¸€ä¸ªage*2çš„å€¼ç½¢äº†
  computed: {
    ageDoubled() {
      return this.age * 2;
    },
  },
  methods: {
    onClickAge() {
      // emit: ç”¨äºå£°æ˜ç”±ç»„ä»¶è§¦å‘çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œ3: å‚æ•°
      this.$emit('age-change', 3);
    },
  },
};
</script>
